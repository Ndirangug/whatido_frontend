import IconButton from '@mui/material/IconButton';
import { useRouter } from 'next/router';
import { useEffect, useState } from 'react';
import styled from 'styled-components';

const StyledIconBtn = styled(IconButton)`
  border-radius: 4px;
  padding: 0;
`;

function ChatIcon() {
  const [selectedRoute, setSelectedRoute] = useState(false);
  const router = useRouter();
  const selected = router.asPath === '/chat';
  let color = selectedRoute ? '#ffffff' : '#808080';

  useEffect(() => {
    selected ? setSelectedRoute(true) : setSelectedRoute(false);
  }, [selected]);

  return (
    <StyledIconBtn>
      <svg
        width="56"
        height="56"
        viewBox="0 0 56 56"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g opacity="0.5">
          <path
            d="M28 11.6666H18C15.24 11.6666 13 13.525 13 15.8166V20.8V21.6333C13 23.925 15.24 25.7833 18 25.7833H19.5C19.77 25.7833 20.13 25.9333 20.3 26.1166L21.8 27.775C22.46 28.5083 23.54 28.5083 24.2 27.775L25.7 26.1166C25.89 25.9083 26.19 25.7833 26.5 25.7833H28C30.76 25.7833 33 23.925 33 21.6333V15.8166C33 13.525 30.76 11.6666 28 11.6666ZM19 20C18.44 20 18 19.625 18 19.1666C18 18.7083 18.45 18.3333 19 18.3333C19.55 18.3333 20 18.7083 20 19.1666C20 19.625 19.56 20 19 20ZM23 20C22.44 20 22 19.625 22 19.1666C22 18.7083 22.45 18.3333 23 18.3333C23.55 18.3333 24 18.7083 24 19.1666C24 19.625 23.56 20 23 20ZM27 20C26.44 20 26 19.625 26 19.1666C26 18.7083 26.45 18.3333 27 18.3333C27.55 18.3333 28 18.7083 28 19.1666C28 19.625 27.56 20 27 20Z"
            fill={color}
          />
          <path
            d="M14.1995 44.12C13.1395 44.12 12.2628 43.77 11.5695 43.07C10.8761 42.37 10.5295 41.5133 10.5295 40.5C10.5295 39.4867 10.8761 38.63 11.5695 37.93C12.2628 37.23 13.1395 36.88 14.1995 36.88C14.8461 36.88 15.4395 37.0367 15.9795 37.35C16.5195 37.6567 16.9361 38.0733 17.2295 38.6L16.6095 38.96C16.3895 38.5333 16.0628 38.1933 15.6295 37.94C15.1961 37.6867 14.7195 37.56 14.1995 37.56C13.3261 37.56 12.6128 37.8433 12.0595 38.41C11.5061 38.9767 11.2295 39.6733 11.2295 40.5C11.2295 41.3267 11.5061 42.0233 12.0595 42.59C12.6128 43.1567 13.3261 43.44 14.1995 43.44C14.7195 43.44 15.1961 43.3133 15.6295 43.06C16.0628 42.8067 16.3895 42.4667 16.6095 42.04L17.2295 42.39C16.9428 42.9167 16.5261 43.3367 15.9795 43.65C15.4395 43.9633 14.8461 44.12 14.1995 44.12ZM20.2126 38.88C20.8193 38.88 21.296 39.0667 21.6426 39.44C21.996 39.8067 22.1726 40.3033 22.1726 40.93V44H21.5126V40.93C21.5126 40.4833 21.3926 40.1367 21.1526 39.89C20.9193 39.6433 20.586 39.52 20.1526 39.52C19.6726 39.52 19.2826 39.6733 18.9826 39.98C18.6826 40.28 18.5326 40.7467 18.5326 41.38V44H17.8726V37H18.5326V39.78C18.906 39.18 19.466 38.88 20.2126 38.88ZM27.3408 39H28.0008V44H27.3408V43.02C26.8808 43.7533 26.2075 44.12 25.3208 44.12C24.6075 44.12 23.9975 43.8667 23.4908 43.36C22.9908 42.8533 22.7408 42.2333 22.7408 41.5C22.7408 40.7667 22.9908 40.1467 23.4908 39.64C23.9975 39.1333 24.6075 38.88 25.3208 38.88C26.2075 38.88 26.8808 39.2467 27.3408 39.98V39ZM23.9708 42.91C24.3508 43.29 24.8175 43.48 25.3708 43.48C25.9242 43.48 26.3908 43.29 26.7708 42.91C27.1508 42.5233 27.3408 42.0533 27.3408 41.5C27.3408 40.9467 27.1508 40.48 26.7708 40.1C26.3908 39.7133 25.9242 39.52 25.3708 39.52C24.8175 39.52 24.3508 39.7133 23.9708 40.1C23.5908 40.48 23.4008 40.9467 23.4008 41.5C23.4008 42.0533 23.5908 42.5233 23.9708 42.91ZM31.6402 39.64H30.2002V42.67C30.2002 42.9433 30.2536 43.14 30.3602 43.26C30.4669 43.3733 30.6269 43.4333 30.8402 43.44C31.0536 43.44 31.3202 43.4333 31.6402 43.42V44C30.9402 44.1067 30.4136 44.0567 30.0602 43.85C29.7136 43.6433 29.5402 43.25 29.5402 42.67V39.64H28.4902V39H29.5402V37.8L30.2002 37.6V39H31.6402V39.64ZM32.5495 40.31C32.5495 40.5367 32.6495 40.7167 32.8495 40.85C33.0495 40.9833 33.2928 41.0867 33.5795 41.16C33.8662 41.2333 34.1528 41.3167 34.4395 41.41C34.7262 41.4967 34.9695 41.6467 35.1695 41.86C35.3695 42.0667 35.4695 42.34 35.4695 42.68C35.4695 43.1067 35.2995 43.4533 34.9595 43.72C34.6262 43.9867 34.1928 44.12 33.6595 44.12C33.1795 44.12 32.7695 44.0133 32.4295 43.8C32.0962 43.5867 31.8628 43.31 31.7295 42.97L32.2895 42.64C32.3828 42.9 32.5495 43.1067 32.7895 43.26C33.0362 43.4067 33.3262 43.48 33.6595 43.48C33.9862 43.48 34.2595 43.4167 34.4795 43.29C34.6995 43.1567 34.8095 42.9533 34.8095 42.68C34.8095 42.4533 34.7095 42.2733 34.5095 42.14C34.3095 42.0067 34.0662 41.9033 33.7795 41.83C33.4928 41.7567 33.2062 41.6767 32.9195 41.59C32.6328 41.4967 32.3895 41.3467 32.1895 41.14C31.9895 40.9267 31.8895 40.65 31.8895 40.31C31.8895 39.9033 32.0495 39.5633 32.3695 39.29C32.6962 39.0167 33.1062 38.88 33.5995 38.88C34.0062 38.88 34.3628 38.9733 34.6695 39.16C34.9762 39.34 35.2028 39.5867 35.3495 39.9L34.7995 40.22C34.6062 39.7533 34.2062 39.52 33.5995 39.52C33.3128 39.52 33.0662 39.59 32.8595 39.73C32.6528 39.8633 32.5495 40.0567 32.5495 40.31Z"
            fill={color}
          />
        </g>
      </svg>
    </StyledIconBtn>
  );
}

export default ChatIcon;
